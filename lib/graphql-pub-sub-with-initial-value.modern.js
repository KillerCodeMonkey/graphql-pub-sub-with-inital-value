import{PubSub as t}from"graphql-subscriptions";const e=(t,e,r)=>{t.return||(t.return=()=>Promise.resolve({done:!0,value:void 0}));const n=t.return.bind(t);return t.return=()=>(e(r),n()),t};class r extends t{withInitialValue(t,e){return{[Symbol.asyncIterator](){return this},initialValuePushed:!1,next(r){return this.initialValuePushed?t.next(r).then(({value:t,done:e})=>({done:e,value:t})):e().then(t=>(this.initialValuePushed=!0,{done:!1,value:t}))},return:e=>t.return(e),throw:e=>t.throw(e)}}asyncIteratorWithInitialValue(t,e){return this.withInitialValue(this.asyncIterator(t),()=>e())}withCancel(t,r,n){return e(t,r,n)}}export{r as PubSubWithIntialValue,e as withCancel};
//# sourceMappingURL=graphql-pub-sub-with-initial-value.modern.js.map
